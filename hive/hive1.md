# 第一章：hive简介和核心概念



## 引子：存在的疑问和解决

- [ ] 结构化数据的分隔符在Hive数据表中如何设置？
- [ ] 灵活性高：自定义用户函数（UDF）和存储格式？(自定义存储格式是什么意思)









## 一、简介

### 1.1是什么

hive类似数仓管理工具：Hive是建立在Hadoop之上的数据仓库，由Facebook开发，在某种程度上可以看成是用户编程接口，本身并不存储和处理数据，依赖于HDFS存储数据，依赖MR处理数据。有类SQL语言，它可以将结构化的数据文件映射成表，并提供类 SQL 查询功能，用于查询的 SQL 语句会被转化为 MapReduce 作业，然后提交到 Hadoop 上运行。

建立原因：传统数据仓库建立在关系型数据仓库之上，计算和处理能力不足，当数据量达到TB级后基本无法获得好的性能。





### 1.2hive与传统的数据库的对比

|    对比    | Hive                                                         |                          传统数据库                          |
| :--------: | :----------------------------------------------------------- | :----------------------------------------------------------: |
|  数据更新  | **不支持**                                                   |                             支持                             |
|  数据插入  | 支持批量插入                                                 |                             支持                             |
|    索引    | 有索引功能，不像RDBMS有键的概念，<br />可在某些列上建立索引，<br />实现枷锁一些查询效果。<br />创建的索数据会被保存到存在的另外的表中。 |                             支持                             |
|   分区列   | 支持                                                         |                             支持                             |
| 执行的延迟 | 高，hive构建在HDFS和MR上，<br />比传统数据库延迟要高         | 低，传统SQL语句执行延迟一般少于1秒，<br />而HSQL语句延迟可达分钟级 |
|   扩展性   | 好，基于Hadoop集群，有很好的**横向**扩展性                   | 有限，RDBMS（关系型数据库）非分布式，<br />横向扩展（分布式添加节点）难实现，<br />纵向（扩展内存、CPU等）也很有限 |

[RDBMS：Relational Database Management System]: https://zhuanlan.zhihu.com/p/61627651	"关系型数据库"



### 1.3为什么

传统数据仓库建立在关系型数据仓库之上，计算和处理能力不足，当数据量达到TB级后基本无法获得好的性能。

Hive可以：

- 结构化的数据文件映射成表（X.csv 文件映射成表文件---> shoolTable）
- 提供类SQL查询功能
- 查询的SQL语句会被转换成MapReduce作业，最后提交到Hadoop上运行

### 1.4Hive的特点

- 简单：提供类SQL语言Hsql，让大家不使用javaAPI开发，而只是学习sql就行了
- 灵活性高：自定义用户函数（UDF）和存储格式？(自定义存储格式是什么意思)
- 为超大的数据集设计的计算（MapReduce）和存储能力（HDFS），集群扩展容易（Hadoop生态的横向扩展）
- 